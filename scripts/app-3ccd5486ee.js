(function(){var t;t=function(){function t(){return["templates","ui.router","smart-table","ngResource","ngDialog","LocalStorageModule","ui.utils.masks","cgNotify"]}return t}(),angular.module("app",new t)}).call(this);
(function(){var r;r=function(){function r(r,a,o,t,e){r.state("App",{"abstract":!0,template:'<div ui-view="main"></div>',controller:"appController"}).state({name:"App.dashboard",url:"/dashboard",views:{main:{templateUrl:"/partials/views/dashboard/index.html",controller:"dashboardIndexController"}}}).state({name:"App.dashboard.modal",url:"/:type/:id",views:{modal:{controller:"dashboardModalController"}}}),a.otherwise("/dashboard"),e.html5Mode(!0)}return r}(),angular.module("app").config(["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$httpProvider","$locationProvider",r])}).call(this);
(function(){var t,n=function(t,n){return function(){return t.apply(n,arguments)}};t=function(){function t(t){this.$scope=t,this.init=n(this.init,this),this.init()}return t.prototype.init=function(){},t}(),angular.module("app").controller("appController",["$scope",t])}).call(this);
(function(){var e;e=function(){function e(e,t,r,n){return this.$q=e,this.$location=t,this.$rootScope=r,this.localStorageService=n,this.queue=[],{request:function(e){return function(t){return e.isTemplate=t.url.indexOf(".html")>0,t}}(this),requestError:function(e){return function(t){return e.isTemplate=t.config.url.indexOf(".html")>0,_.remove(e.queue,t.config),e.$q.reject(t)}}(this),response:function(e){return function(t){return _.remove(e.queue,t.config),t||e.$q.when(t)}}(this),responseError:function(e){return function(t){return e.isTemplate=t.config.url.indexOf(".html")>0,_.remove(e.queue,t.config),e.$q.reject(t)}}(this)}}return e}(),angular.module("app").factory("HttpRequestInterceptor",["$q","$location","$rootScope","localStorageService",e])}).call(this);
(function(){var t;t=function(){function t(t){return this.$filter=t,function(t,i){var n,r,l;for(r=void 0,n=Math.floor(t).toString().split(""),l=-3;n.length+l>0;)n.splice(l,0,"."),l-=4;return i>0?(r=t.toFixed(i).split(".")[1],n.join("")+","+r):n.join("")}}return t}(),angular.module("app").filter("setDecimal",["$filter",t])}).call(this);
(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,s,i){return this.cars=t,this.localStorageService=s,this.notify=i,this.success_message=e(this.success_message,this),this["delete"]=e(this["delete"],this),this.update=e(this.update,this),this.read=e(this.read,this),this.create=e(this.create,this),this.write=e(this.write,this),this.get_all=e(this.get_all,this),this.cars=this.get_all(),{get_all:this.get_all,create:this.create,read:this.read,update:this.update,"delete":this["delete"]}}return t.prototype.get_all=function(){return this.localStorageService.get("cars")||this.cars},t.prototype.write=function(){return this.localStorageService.set("cars",this.cars),this.success_message()},t.prototype.create=function(t){return t.id=_.uniqueId(),this.cars.push(t),this.write()},t.prototype.read=function(t){return _.find(this.cars,{id:t})},t.prototype.update=function(t){var e;return e=_.find(this.cars,{id:t.id}),e=_.merge(e,t),this.write()},t.prototype["delete"]=function(t){var e;for(e=0;e<t.length;)this.cars=_.reject(this.cars,{id:t[e]}),e++;return this.write()},t.prototype.success_message=function(){return this.notify({message:"Dados atualizados com sucesso!",duration:3e3})},t}(),angular.module("app").service("carService",["cars","localStorageService","notify",t])}).call(this);
(function(){var a;a=function(){function a(){return[{id:_.uniqueId(),combustivel:"Flex",imagem:null,marca:"Volkswagem",modelo:"Gol",placa:"FFF-5498",valor:1e4},{id:_.uniqueId(),combustivel:"Gasolina",imagem:null,marca:"Volkswagem",modelo:"Fox",placa:"FOX-4125",valor:2e4},{id:_.uniqueId(),combustivel:"Alcool",imagem:"http://placehold.it/350x150",marca:"Volkswagen",modelo:"Fusca",placa:"PAI-4121",valor:3e4}]}return a}(),angular.module("app").value("cars",a())}).call(this);
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,s,i,c,r){this.$scope=e,this.$state=s,this.$stateParams=i,this.carService=c,this.ngDialog=r,this["delete"]=t(this["delete"],this),this.edit=t(this.edit,this),this.read=t(this.read,this),this.create=t(this.create,this),this.handle_selected_cars=t(this.handle_selected_cars,this),this.check_all=t(this.check_all,this),this.open_image=t(this.open_image,this),this.open_car=t(this.open_car,this),this.init=t(this.init,this),this.init()}return e.prototype.init=function(){return this.declare_scope_vars(),this.declare_template_methods(),this.set_listeners()},e.prototype.declare_scope_vars=function(){return this.$scope.selected_cars=[],this.$scope.selected_all=!1,this.get_data()},e.prototype.declare_template_methods=function(){return this.$scope.create=this.create,this.$scope.read=this.read,this.$scope.edit=this.edit,this.$scope["delete"]=this["delete"],this.$scope.open_car=this.open_car,this.$scope.open_image=this.open_image,this.$scope.check_all=this.check_all,this.$scope.handle_selected_cars=this.handle_selected_cars},e.prototype.set_listeners=function(){return this.$scope.$watch("rowCollection",function(e){return function(){return e.$scope.selected_all=!1}}(this))},e.prototype.get_data=function(){return this.$scope.safe_data=this.carService.get_all(),this.$scope.rowCollection=angular.copy(this.$scope.safe_data)},e.prototype.open_car=function(e){return this.$state.go("App.dashboard.modal",{id:e.id,type:"edit"})},e.prototype.open_image=function(e){return this.ngDialog.open({className:"ngdialog-theme-default auto",template:"<img src='"+e+"' />",plain:!0})},e.prototype.check_all=function(){return angular.forEach(this.$scope.rowCollection,function(e){return function(t){return t.is_selected=e.$scope.selected_all,e.handle_selected_cars(t)}}(this))},e.prototype.handle_selected_cars=function(e,t){return t&&(this.$scope.selected_all=!1),e.is_selected?this.$scope.selected_cars.push(e.id):this.$scope.selected_cars=_.without(this.$scope.selected_cars,e.id),this.$scope.selected_cars=_.uniq(this.$scope.selected_cars)},e.prototype.create=function(e){return this.carService.create(e),this.get_data()},e.prototype.read=function(e){return this.carService.read(e)},e.prototype.edit=function(e){return this.carService.update(e),this.get_data()},e.prototype["delete"]=function(){var e;return e=confirm("VocÃª tem certeza que deseja deletar os carros selecionados?"),e?(this.carService["delete"](this.$scope.selected_cars),this.declare_scope_vars()):void 0},e}(),angular.module("app").controller("dashboardIndexController",["$scope","$state","$stateParams","carService","ngDialog",e])}).call(this);
(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,s,i,o){this.$scope=t,this.$state=s,this.$stateParams=i,this.ngDialog=o,this.submit=e(this.submit,this),this.init=e(this.init,this),this.init()}return t.prototype.init=function(){return this.declare_scope_vars(),this.declare_template_methods(),this.open_modal()},t.prototype.declare_scope_vars=function(){return this.$scope.type=this.$stateParams.type,this.init_data()},t.prototype.declare_template_methods=function(){return this.$scope.submit=this.submit},t.prototype.init_data=function(){return"create"===this.$scope.type&&(this.$scope.car={}),"edit"===this.$scope.type?this.$scope.car=this.$scope.$parent.read(this.$stateParams.id):void 0},t.prototype.open_modal=function(){return this.dialog=this.ngDialog.open({className:"ngdialog-theme-default",template:"/partials/views/dashboard/modal.html",scope:this.$scope}),this.dialog.closePromise.then(function(t){return function(){return t.$state.go("App.dashboard")}}(this))},t.prototype.submit=function(){return this.$scope[this.$scope.type](this.$scope.car),this.ngDialog.close()},t}(),angular.module("app").controller("dashboardModalController",["$scope","$state","$stateParams","ngDialog",t])}).call(this);